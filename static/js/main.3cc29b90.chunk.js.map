{"version":3,"sources":["components/error-boundary.jsx","state.js","components/page.jsx","validators.js","quiz-util.js","pages/setup.js","pages/quiz.js","pages/summary.js","pages/evaluation.js","app.js","theme.js","index.js"],"names":["ErrorPageContainer","styled","div","ErrorBoundary","p","state","err","localStorage","clear","this","setState","location","reload","type","size","onClick","restart","bind","props","children","Component","persistedAtom","cfg","atom","default","JSON","parse","getItem","key","setupState","quizType","questionCount","quizState","inTestState","usePersistedState","recoilState","useRecoilState","v","setItem","stringify","StyledPage","StyledSteps","Steps","StyledStep","Step","Page","step","history","useHistory","inTest","quiz","redirect","push","current","disabled","undefined","title","_","composeValidators","validators","value","reduce","error","validator","required","isNil","specialMap","_0","_1","_2","_3","_4","_5","_6","_7","_8","_9","formatQuestionText","prompt","chem","alert","Error","createQuizState","d","map","db","c","formula","str","toPairs","s","mapping","replace","rdb","shuffle","indices","range","ind","n","min","max","except","falseChems","length","take","difference","fi","allTypes","targetTypes","targetType","sample","sentence","options","concat","createQuestion","FormLayout","form","Control","Label","label","RadioContainer","Radio","Group","Setup","setup","setSetup","setQuiz","setInTest","useEffect","initialValues","onSubmit","vals","newQuizState","defer","render","minValue","handleSubmit","name","validate","input","meta","isFinite","Number","toNumber","htmlType","Question","Options","Option","Quiz","order","match","params","index","currentQuestion","answer","onChange","slice","setAnswer","target","o","i","QuestionSummary","Link","$error","QuestionSummaryDescription","SummaryContainer","SubmitContainer","Summary","q","to","CheckOutlined","ExclamationOutlined","confirm","correct","ArrowRightOutlined","strong","$correct","ResultsColumns","MainStat","MainStatLarge","span","ResultTable","table","Evaluation","filter","CloseOutlined","App","basename","process","exact","path","component","GlobalStyle","createGlobalStyle","ReactDOM","StrictMode","theme","colors","primary","secondary","info","success","warning","danger","text","fontSizes","tiny","small","normal","big","mega","breakpoints","xs","sm","md","lg","xl","document","getElementById"],"mappings":"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","file":"static/js/main.3cc29b90.chunk.js","sourcesContent":["import { Component } from 'react'\r\nimport { Button } from 'antd'\r\nimport styled from 'styled-components'\r\n\r\nconst ErrorPageContainer = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`\r\n\r\nexport class ErrorBoundary extends Component {\r\n  constructor(p) {\r\n    super(p)\r\n    this.state = {\r\n      err: null,\r\n    }\r\n  }\r\n\r\n  restart() {\r\n    localStorage.clear()\r\n    this.setState({ err: null })\r\n    location.reload()\r\n  }\r\n\r\n  componentDidCatch(err) {\r\n    this.setState({ err })\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.err) {\r\n      return this.props.children\r\n    } else {\r\n      return (\r\n        <ErrorPageContainer>\r\n          V aplikácií došlo k chybe je nutný reštart\r\n          <Button type=\"primary\" size=\"large\" onClick={this.restart.bind(this)}>\r\n            Reštart\r\n          </Button>\r\n        </ErrorPageContainer>\r\n      )\r\n    }\r\n  }\r\n}\r\n","import { atom, useRecoilState } from 'recoil'\r\n\r\nfunction persistedAtom(cfg) {\r\n  return atom({\r\n    ...cfg,\r\n    default: JSON.parse(localStorage.getItem(cfg.key)) || cfg.default,\r\n  })\r\n}\r\n\r\nexport const setupState = persistedAtom({\r\n  key: 'setupState',\r\n  default: {\r\n    quizType: 'all',\r\n    questionCount: 10,\r\n  },\r\n})\r\n\r\nexport const quizState = persistedAtom({\r\n  key: 'quizState',\r\n  default: [],\r\n})\r\n\r\nexport const inTestState = persistedAtom({\r\n  key: 'inTestState',\r\n  default: false,\r\n})\r\n\r\nexport function usePersistedState(recoilState) {\r\n  const [state, setState] = useRecoilState(recoilState)\r\n\r\n  return [\r\n    state,\r\n    v => {\r\n      setState(v)\r\n      localStorage.setItem(recoilState.key, JSON.stringify(v))\r\n    },\r\n  ]\r\n}\r\n","import styled from 'styled-components'\r\nimport { Steps } from 'antd'\r\nimport _ from 'lodash'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { ErrorBoundary } from './error-boundary'\r\nimport { usePersistedState, inTestState, quizState } from '../state'\r\n\r\nconst StyledPage = styled.div`\r\n  padding: 36px;\r\n`\r\n\r\nconst StyledSteps = styled(Steps)`\r\n  margin-bottom: 24px;\r\n`\r\n\r\nconst StyledStep = styled(Steps.Step)`\r\n  &:not(.ant-steps-item-disabled) {\r\n    cursor: pointer;\r\n  }\r\n`\r\n\r\nexport const Page = ({ step, children }) => {\r\n  const history = useHistory()\r\n  const [inTest] = usePersistedState(inTestState)\r\n  const [quiz] = usePersistedState(quizState)\r\n  const redirect = p => () => history.push(p)\r\n  return (\r\n    <ErrorBoundary>\r\n      <StyledPage>\r\n        <StyledSteps current={step} size=\"small\">\r\n          <StyledStep\r\n            disabled={inTest}\r\n            onClick={(!inTest && redirect('/')) || undefined}\r\n            title=\"Nastavenie testu\"\r\n          />\r\n          <StyledStep\r\n            disabled={!inTest}\r\n            onClick={(inTest && redirect('/quiz/1')) || undefined}\r\n            title=\"Test\"\r\n          />\r\n          <StyledStep\r\n            disabled={!inTest}\r\n            onClick={(inTest && redirect('/prehlad')) || undefined}\r\n            title=\"Prehľad otázok\"\r\n          />\r\n          <StyledStep\r\n            disabled={inTest || !_.size(quiz)}\r\n            onClick={\r\n              (!inTest && _.size(quiz) && redirect('/hodnotenie')) || undefined\r\n            }\r\n            title=\"Hodnotenie\"\r\n          />\r\n        </StyledSteps>\r\n\r\n        {children}\r\n      </StyledPage>\r\n    </ErrorBoundary>\r\n  )\r\n}\r\n","import _ from 'lodash'\r\n\r\nexport const composeValidators = (...validators) => value =>\r\n  validators.reduce((error, validator) => error || validator(value), undefined)\r\n\r\nexport const required = () => v => (_.isNil(v) ? 'Povinné' : undefined)\r\n\r\nexport const isNumber = () => v =>\r\n  !_.isFinite(Number(v)) ? 'Nie je číslo' : undefined\r\n\r\nexport const min = minValue => v =>\r\n  _.toNumber(v) < minValue ? `Musí byť aspoň ${minValue}` : undefined\r\n","import _ from 'lodash'\r\nimport db from './db.json'\r\n\r\n// X\\u2082'\r\n// https://csvjson.com/csv2json\r\n\r\nconst specialMap = {\r\n  _0: '\\u2080',\r\n  _1: '\\u2081',\r\n  _2: '\\u2082',\r\n  _3: '\\u2083',\r\n  _4: '\\u2084',\r\n  _5: '\\u2085',\r\n  _6: '\\u2086',\r\n  _7: '\\u2087',\r\n  _8: '\\u2088',\r\n  _9: '\\u2089',\r\n}\r\n\r\nfunction formatSpecials(str) {\r\n  return _.reduce(\r\n    _.toPairs(specialMap),\r\n    (s, mapping) => s.replace(mapping[0], mapping[1]),\r\n    str\r\n  )\r\n}\r\n\r\nfunction prepareDb() {\r\n  return _.map(db, c => ({ ...c, formula: formatSpecials(c.formula) }))\r\n}\r\n\r\nfunction formatQuestionText(type, prompt, chem) {\r\n  switch (type) {\r\n    case 'latin':\r\n      return `Aký je latinský názov pre '${chem[prompt]}'`\r\n    case 'slovak':\r\n      return `Aký je slovenský názov pre '${chem[prompt]}'`\r\n    case 'formula':\r\n      return `Aký je vzorec pre '${chem[prompt]}'`\r\n    default: {\r\n      alert('Invalid chem prop type')\r\n      throw new Error('Invalid chem prop type')\r\n    }\r\n  }\r\n}\r\n\r\nfunction pickNDistinct(n, min, max, except) {\r\n  return _.take(_.shuffle(_.difference(_.range(min, max), except)), n)\r\n}\r\n\r\nfunction createQuestion(type, chem, falseChems) {\r\n  const allTypes = ['latin', 'slovak', 'formula']\r\n  let targetTypes = type == 'all' ? allTypes : [type]\r\n\r\n  const targetType = _.sample(targetTypes)\r\n  const promptType = _.sample(_.difference(allTypes, [targetType]))\r\n\r\n  return {\r\n    sentence: formatQuestionText(targetType, promptType, chem),\r\n    targetType,\r\n    chem,\r\n    falseChems,\r\n    options: _.shuffle(_.concat(falseChems, [chem])),\r\n  }\r\n}\r\n\r\nexport function createQuizState({ quizType, questionCount }) {\r\n  const d = prepareDb(db)\r\n  const rdb = _.shuffle(d)\r\n  const indices = _.range(0, questionCount)\r\n\r\n  return _.map(indices, ind => {\r\n    const chem = rdb[ind]\r\n    const falseChems = _.map(\r\n      pickNDistinct(3, 0, rdb.length, [ind]),\r\n      fi => rdb[fi]\r\n    )\r\n\r\n    return createQuestion(quizType, chem, falseChems)\r\n  })\r\n}\r\n","import { Form, Field } from 'react-final-form'\r\nimport _ from 'lodash'\r\nimport { useEffect } from 'react'\r\nimport { Radio, Button, Input, Divider } from 'antd'\r\nimport styled from 'styled-components'\r\nimport { useRecoilState } from 'recoil'\r\nimport { useHistory } from 'react-router-dom'\r\n\r\nimport { Page } from '../components/page'\r\nimport { composeValidators, isNumber, min, required } from '../validators'\r\nimport { inTestState, quizState, setupState, usePersistedState } from '../state'\r\n\r\nimport { createQuizState } from '../quiz-util'\r\n\r\nconst FormLayout = styled.form`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n`\r\n\r\nconst Control = styled.div`\r\n  margin: 16px 0;\r\n`\r\n\r\nconst Label = styled.label`\r\n  font-weight: bold;\r\n`\r\n\r\nconst RadioContainer = styled(Radio.Group)`\r\n  display: flex;\r\n  flex-direction: column;\r\n`\r\n\r\nconst Error = styled.div`\r\n  font-weight: bold;\r\n  color: red;\r\n`\r\n\r\nexport const Setup = () => {\r\n  const [setup, setSetup] = useRecoilState(setupState)\r\n  const [quiz, setQuiz] = usePersistedState(quizState)\r\n  const [inTest, setInTest] = usePersistedState(inTestState)\r\n  const history = useHistory()\r\n\r\n  useEffect(() => {\r\n    if (inTest) {\r\n      history.push('/quiz/1')\r\n    }\r\n  }, [inTest, history])\r\n\r\n  return (\r\n    <Page step={0}>\r\n      <Form\r\n        initialValues={setup}\r\n        onSubmit={vals => {\r\n          setSetup(vals)\r\n          setInTest(true)\r\n          const newQuizState = createQuizState(vals)\r\n          setQuiz(newQuizState)\r\n          _.defer(() => history.push('/quiz/1'))\r\n        }}\r\n        render={({ handleSubmit }) => (\r\n          <FormLayout onSubmit={handleSubmit}>\r\n            <Control>\r\n              <Label>Typ testu</Label>\r\n              <Field\r\n                name=\"quizType\"\r\n                type=\"string\"\r\n                validate={required()}\r\n                render={({ input, meta }) => (\r\n                  <>\r\n                    <RadioContainer {...input}>\r\n                      <Radio value=\"all\">Všetko</Radio>\r\n                      <Radio value=\"slovak\">Slovenské názvoslovie</Radio>\r\n                      <Radio value=\"latin\">Latinské názvoslovie</Radio>\r\n                      <Radio value=\"formula\">Značky</Radio>\r\n                    </RadioContainer>\r\n                    <Error>{meta.error}</Error>\r\n                  </>\r\n                )}\r\n              />\r\n            </Control>\r\n\r\n            <Control>\r\n              <Label>Počet otázok</Label>\r\n              <Field\r\n                name=\"questionCount\"\r\n                validate={composeValidators(required(), isNumber(), min(1))}\r\n                render={({ input, meta }) => (\r\n                  <>\r\n                    <Input {...input} />\r\n                    <Error>{meta.error}</Error>\r\n                  </>\r\n                )}\r\n              />\r\n            </Control>\r\n\r\n            <Button htmlType=\"submit\">Začať test</Button>\r\n          </FormLayout>\r\n        )}\r\n      />\r\n      <Divider />\r\n      {!!_.size(quiz) && (\r\n        <Button onClick={() => history.push('/hodnotenie')}>\r\n          Pozrieť posledný test\r\n        </Button>\r\n      )}\r\n    </Page>\r\n  )\r\n}\r\n","import { useEffect } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { Button, Radio, Divider } from 'antd'\r\nimport _ from 'lodash'\r\nimport styled from 'styled-components'\r\n\r\nimport { inTestState, quizState, usePersistedState } from '../state'\r\nimport { Page } from '../components/page'\r\n\r\nconst Question = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n`\r\n\r\nconst Options = styled(Radio.Group)`\r\n  display: flex;\r\n  flex-direction: column;\r\n`\r\n\r\nconst Option = styled(Radio)`\r\n  margin-top: 16px;\r\n`\r\n\r\nexport const Quiz = ({\r\n  match: {\r\n    params: { order },\r\n  },\r\n}) => {\r\n  const index = Number(order - 1)\r\n  const [quiz, setQuiz] = usePersistedState(quizState)\r\n  const [inTest] = usePersistedState(inTestState)\r\n  const history = useHistory()\r\n  const currentQuestion = quiz[index]\r\n\r\n  useEffect(() => {\r\n    if (!inTest) {\r\n      history.push('/hodnotenie')\r\n    }\r\n  }, [inTest, history])\r\n\r\n  useEffect(() => {\r\n    if (quiz.length && !currentQuestion) {\r\n      history.push('/prehlad')\r\n    }\r\n  }, [currentQuestion, history, quiz])\r\n\r\n  const setAnswer = v =>\r\n    setQuiz([\r\n      ..._.slice(quiz, 0, index),\r\n      { ...currentQuestion, answer: v },\r\n      ..._.slice(quiz, index + 1, quiz.length),\r\n    ])\r\n\r\n  const nextQuestion = () => {\r\n    index < quiz.length\r\n      ? history.push(`/quiz/${index + 2}`)\r\n      : history.push(`/prehlad`)\r\n  }\r\n\r\n  return (\r\n    <Page step={1}>\r\n      <h1>\r\n        Otázka {order}/{quiz.length}\r\n      </h1>\r\n      {currentQuestion && (\r\n        <Question>\r\n          <Divider />\r\n          <strong>{currentQuestion.sentence}</strong>\r\n          <Options\r\n            value={currentQuestion.answer}\r\n            onChange={v => setAnswer(v.target.value)}\r\n          >\r\n            {_.map(currentQuestion.options, (o, i) => (\r\n              <Option key={i} value={o[currentQuestion.targetType]}>\r\n                {o[currentQuestion.targetType]}\r\n              </Option>\r\n            ))}\r\n          </Options>\r\n          <Divider />\r\n          <Button onClick={nextQuestion}>Ďalej</Button>\r\n        </Question>\r\n      )}\r\n    </Page>\r\n  )\r\n}\r\n","import { useEffect } from 'react'\r\nimport styled from 'styled-components'\r\nimport _ from 'lodash'\r\nimport { Button } from 'antd'\r\nimport {\r\n  CheckOutlined,\r\n  ExclamationOutlined,\r\n  ArrowRightOutlined,\r\n} from '@ant-design/icons'\r\nimport { Link, useHistory } from 'react-router-dom'\r\n\r\nimport { inTestState, quizState, usePersistedState } from '../state'\r\nimport { Page } from '../components/page'\r\n\r\nconst QuestionSummary = styled(Link)`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex-direction: column;\r\n  padding: 20px;\r\n  font-size: 24px;\r\n  border: 1px solid ${({ $error }) => ($error ? '#e10000' : '#28b900')};\r\n  color: ${({ $error }) => ($error ? '#e10000' : '#28b900')};\r\n  border-radius: 8px;\r\n  width: calc(20% - 10px);\r\n  margin-top: 10px;\r\n  margin-left: 10px;\r\n\r\n  &:hover {\r\n    color: ${({ $error }) => ($error ? '#e10000' : '#28b900')};\r\n  }\r\n`\r\n\r\nconst QuestionSummaryDescription = styled.div`\r\n  font-size: 14px;\r\n`\r\n\r\nconst SummaryContainer = styled.div`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  margin-left: -10px;\r\n`\r\n\r\nconst SubmitContainer = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  margin: 16px 0;\r\n`\r\n\r\nexport function Summary() {\r\n  const [quiz, setQuiz] = usePersistedState(quizState)\r\n  const [inTest, setInTest] = usePersistedState(inTestState)\r\n  const history = useHistory()\r\n\r\n  useEffect(() => {\r\n    if (!inTest) {\r\n      history.push('/hodnotenie')\r\n    }\r\n  }, [inTest, history])\r\n\r\n  const submitTest = () => {\r\n    const shouldContinue = confirm(\r\n      'Naozaj chcete ohodnotiť test ? Po hodnotení už nie je možné test zmeniť.'\r\n    )\r\n    if (shouldContinue) {\r\n      setQuiz(\r\n        _.map(quiz, q => ({ ...q, correct: q.answer === q.chem[q.targetType] }))\r\n      )\r\n      setInTest(false)\r\n      _.defer(() => history.push('/hodnotenie'))\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Page step={2}>\r\n      <p>\r\n        Prehľad zodpovedaných a nezodpovedaných otázok. Kliknutím na otázku sa\r\n        môžete vrátiť do testu a zmeniť svoju odpoveď.\r\n      </p>\r\n      <SummaryContainer>\r\n        {_.map(quiz, (q, i) => (\r\n          <QuestionSummary key={i} to={`/quiz/${i + 1}`} $error={!q.answer}>\r\n            Otázka č. {i + 1}\r\n            <QuestionSummaryDescription>\r\n              {q.answer ? (\r\n                <>\r\n                  Odpoveď zaznamenaná&nbsp;\r\n                  <CheckOutlined />\r\n                </>\r\n              ) : (\r\n                <>\r\n                  Odpoveď chýba&nbsp;\r\n                  <ExclamationOutlined />\r\n                </>\r\n              )}\r\n            </QuestionSummaryDescription>\r\n          </QuestionSummary>\r\n        ))}\r\n      </SummaryContainer>\r\n      <SubmitContainer>\r\n        <Button type=\"primary\" size=\"large\" onClick={submitTest}>\r\n          Ohodnotiť Test <ArrowRightOutlined />\r\n        </Button>\r\n      </SubmitContainer>\r\n    </Page>\r\n  )\r\n}\r\n","import { useEffect } from 'react'\r\nimport styled from 'styled-components'\r\nimport { Radio, Divider } from 'antd'\r\nimport { CheckOutlined, CloseOutlined } from '@ant-design/icons'\r\nimport _ from 'lodash'\r\nimport { useHistory } from 'react-router-dom'\r\n\r\nimport { Page } from '../components/page'\r\nimport { inTestState, quizState, usePersistedState } from '../state'\r\n\r\nconst Question = styled.strong`\r\n  color: ${({ $correct }) => ($correct ? '#28b900' : '#e10000')};\r\n`\r\n\r\nconst Options = styled(Radio.Group)`\r\n  display: flex;\r\n  flex-direction: column;\r\n`\r\n\r\nconst Option = styled(Radio)`\r\n  margin-top: 16px;\r\n  color: ${({ $correct }) => ($correct ? '#28b900' : '#e10000')};\r\n`\r\n\r\nconst ResultsColumns = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  > * {\r\n    margin-right: 24px;\r\n  }\r\n`\r\n\r\nconst MainStat = styled.div`\r\n  display: flex;\r\n  align-items: baseline;\r\n  border-bottom: 2px solid black;\r\n  > * {\r\n    margin-right: 8px;\r\n  }\r\n`\r\n\r\nconst MainStatLarge = styled.span`\r\n  font-size: 3em;\r\n`\r\n\r\nconst ResultTable = styled.table`\r\n  th {\r\n    font-weight: normal;\r\n  }\r\n  td {\r\n    font-weight: bold;\r\n    padding-left: 2em;\r\n  }\r\n`\r\n\r\nexport function Evaluation() {\r\n  const [quiz] = usePersistedState(quizState)\r\n  const [inTest] = usePersistedState(inTestState)\r\n  const history = useHistory()\r\n\r\n  useEffect(() => {\r\n    if (!_.size(quiz) || inTest) {\r\n      history.push('/')\r\n    }\r\n  }, [quiz, inTest, history])\r\n\r\n  return (\r\n    <Page step={3}>\r\n      <ResultsColumns>\r\n        <MainStat>\r\n          <MainStatLarge>\r\n            {_.size(_.filter(quiz, q => q.correct))}\r\n          </MainStatLarge>\r\n          <span>/</span>\r\n          <span>{_.size(quiz)}</span>\r\n        </MainStat>\r\n\r\n        <ResultTable>\r\n          <tbody>\r\n            <tr>\r\n              <th>Správne:</th>\r\n              <td>{_.size(_.filter(quiz, q => q.correct))}</td>\r\n            </tr>\r\n            <tr>\r\n              <th>Nesprávne:</th>\r\n              <td>{_.size(_.filter(quiz, q => !q.correct))}</td>\r\n            </tr>\r\n            <tr>\r\n              <th>Zodpovedaných:</th>\r\n              <td>{_.size(_.filter(quiz, q => !!q.answer))}</td>\r\n            </tr>\r\n            <tr>\r\n              <th>Nezodpovedaných:</th>\r\n              <td>{_.size(_.filter(quiz, q => !q.answer))}</td>\r\n            </tr>\r\n          </tbody>\r\n        </ResultTable>\r\n      </ResultsColumns>\r\n      {_.map(quiz, (q, i) => (\r\n        <div key={i}>\r\n          <Divider />\r\n          <Question $correct={q.correct}>\r\n            {q.correct ? <CheckOutlined /> : <CloseOutlined />}\r\n            {q.sentence}\r\n          </Question>\r\n          <Options value={q.answer}>\r\n            {_.map(q.options, (o, i) => (\r\n              <Option\r\n                key={i}\r\n                value={o[q.targetType]}\r\n                $correct={q.chem[q.targetType] === o[q.targetType]}\r\n              >\r\n                {o[q.targetType]}\r\n              </Option>\r\n            ))}\r\n          </Options>\r\n          <Divider />\r\n        </div>\r\n      ))}\r\n    </Page>\r\n  )\r\n}\r\n","import { Switch, BrowserRouter as Router, Route } from 'react-router-dom'\r\n\r\nimport { Setup } from './pages/setup'\r\nimport { Quiz } from './pages/quiz'\r\nimport { Summary } from './pages/summary'\r\nimport { Evaluation } from './pages/evaluation'\r\n\r\nexport function App() {\r\n  return (\r\n    <Router basename={process.env.PUBLIC_URL}>\r\n      <Switch>\r\n        <Route exact path=\"/\" component={Setup} />\r\n        <Route exact path=\"/quiz/:order\" component={Quiz} />\r\n        <Route exact path=\"/prehlad\" component={Summary} />\r\n        <Route exact path=\"/hodnotenie\" component={Evaluation} />\r\n        <Route component={Setup} />\r\n      </Switch>\r\n    </Router>\r\n  )\r\n}\r\n","import { createGlobalStyle } from 'styled-components'\r\n\r\nexport const theme = {\r\n  colors: {\r\n    primary: '#007bff',\r\n    secondary: '#6c757d',\r\n    info: '#17a2b8',\r\n    success: '#28a745',\r\n    warning: '#ffc107',\r\n    danger: '#dc3545',\r\n\r\n    text: '#343a40',\r\n  },\r\n  fontSizes: {\r\n    tiny: '.2rem',\r\n    small: '.5rem',\r\n    normal: '1rem',\r\n    big: '2rem',\r\n    mega: '5rem',\r\n  },\r\n  breakpoints: {\r\n    xs: 1,\r\n    sm: 576,\r\n    md: 768,\r\n    lg: 992,\r\n    xl: 1200,\r\n  },\r\n}\r\n\r\nexport const GlobalStyle = createGlobalStyle`\r\n  html, body, #root {\r\n    margin: 0;\r\n    padding: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n`\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { RecoilRoot } from 'recoil'\r\nimport { ThemeProvider } from 'styled-components'\r\n\r\nimport { App } from './app'\r\n\r\nimport './lib/lib.css'\r\nimport { GlobalStyle, theme } from './theme'\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <RecoilRoot>\r\n      <ThemeProvider theme={theme}>\r\n        <GlobalStyle />\r\n        <App />\r\n      </ThemeProvider>\r\n    </RecoilRoot>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n)\r\n"],"sourceRoot":""}